@model NguyenVietTien.SachOnline.Models.SACH

@{
    ViewBag.Title = "Chi Tiết Sách - " + Model.TenSach;
    Layout = "~/Views/Shared/NguyenVietTien.Layout.cshtml";
}


<style>
    .book-content {
        flex: 1;
        background: #f9f9f9; /* nền giống info-list */
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .book-content h1 {
        font-size: 26px;
        font-weight: bold;
        margin-bottom: 15px;
        text-align: center;
        color: #333;
    }

    .book-price {
        color: #d9534f;
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
        text-align: center;
    }

    .book-content h4 {
        margin-top: 15px;
        margin-bottom: 10px;
        font-size: 18px;
        color: #004085;
        border-bottom: 1px solid #ddd;
        padding-bottom: 5px;
        font-weight: bold;
    }

    .book-description {
        color: #555;
        line-height: 1.6;
        text-align: justify;
        font-size: 15px;
    }

    .book-detail-container {
        background-color: #f0f8ff; /* chỉnh màu theo ý bạn */
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
    }

    .book-detail-header {
        text-align: center;
        margin-bottom: 20px;
    }

    .book-detail-header h2 {
        color: #004085;
        text-transform: uppercase;
    }

    .book-info {
        display: flex;
        gap: 20px;
    }

    .book-info img {
        max-width: 300px;
        border-radius: 8px;
    }

    .action-buttons {
        margin-top: 20px;
        text-align: center;
    }

    .action-buttons a {
        margin: 5px;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
    }

    .btn-cart {
        background: #007bff;
        color: #fff;
    }

    .btn-favorite {
        background: #6c757d;
        color: #fff;
    }

    .btn-back {
        background: #ffc107;
        color: #000;
    }

    .info-list {
        list-style: none;
        padding: 0;
        margin: 20px 0;
        max-width: 300px; /* Giới hạn chiều rộng */
        margin-left: auto; /* Đẩy sát sang bên phải */
        background: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .info-list li {
        display: flex;
        justify-content: space-between;
        padding: 10px 15px;
        border-bottom: 1px solid #ddd;
        font-size: 15px;
    }

    .info-list li:last-child {
        border-bottom: none;
    }

    .info-list strong {
        color: #333;
    }

    .info-list span {
        color: #007bff;
        font-weight: 500;
    }
</style>


<div class="book-detail-container">
    <div class="book-detail-header">
        <h2>Thông tin chi tiết sách</h2>
    </div>

    <div class="book-info">
        <div>
            @{
                var imageUrl = !string.IsNullOrEmpty(Model.AnhBia) ?
                    Url.Content("~/Images/" + Model.AnhBia) :
                    "https://via.placeholder.com/300x400.png?text=Bìa+Sách";
            }
            <img src="@imageUrl" alt="Bìa sách @Model.TenSach">
        </div>

        <div class="book-content">
            <h1>@Model.TenSach</h1>

            <div class="book-price">
                @if (Model.GiaBan.HasValue)
                {
                    <span>@Model.GiaBan.Value.ToString("N0") VNĐ</span>
                }
                else
                {
                    <span class="text-muted">Chưa có giá</span>
                }
            </div>

            <h4>Mô tả</h4>
            <p class="book-description">
                @if (!string.IsNullOrEmpty(Model.MoTa))
                {
                    @Html.Raw(Model.MoTa)
                }
                else
                {
                    <i>Chưa có mô tả cho sách này.</i>
                }
            </p>

            <ul class="info-list">
                <li><strong>Mã sách:</strong> @Model.MaSach</li>
                <li><strong>Ngày cập nhật:</strong> @(Model.NgayCapNhat?.ToString("dd/MM/yyyy") ?? "Chưa rõ")</li>
                <li><strong>Số lượng đã bán:</strong> @(Model.SoLuongBan?.ToString() ?? "Chưa có")</li>
                <li><strong>Chủ đề:</strong> @(Model.CHUDE?.TenChuDe ?? "N/A")</li>
                <li><strong>Nhà xuất bản:</strong> @(Model.NHAXUATBAN?.TenNXB ?? "N/A")</li>
            </ul>
        </div>
    </div>

    <div class="action-buttons">
        <a href="@Url.Action("ThemGioHang", "GioHang", new { id = Model.MaSach, url = Request.Url.ToString() })" class="btn-cart">
            🛒 Thêm vào giỏ hàng
        </a>
        <a href="#" class="btn-favorite">❤️ Yêu thích</a>
        @Html.ActionLink("⬅ Quay về", "Index", "NguyenVietTien_SachOnline", null, new { @class = "btn-back" })
    </div>
</div>
